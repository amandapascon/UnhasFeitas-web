{"ast":null,"code":"var _jsxFileName = \"/home/amandapascon/\\xC1rea de Trabalho/APLICA\\xC7\\xD5ES/Unhas Feitas/web/src/pages/Singin.js\";\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { TextField, Button, ButtonGroup, Typography } from '@material-ui/core';\nimport api from '../api';\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      password2: ''\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('auth_token')) this.props.history.push('/');\n  }\n\n  checkPassword() {\n    let check = this.state.password == this.state.password2;\n    this.setState({\n      error: !check\n    });\n    return check;\n  }\n\n  async register() {\n    let {\n      email,\n      name,\n      password,\n      state,\n      city\n    } = this.state;\n    api.put('/signin', {\n      email,\n      name,\n      password\n    }).then(res => {\n      if (res.data.token) {\n        localStorage.clear();\n        localStorage.setItem('name', res.data.name);\n        localStorage.setItem('auth_token', res.data.token);\n        this.setState({\n          page: 2\n        });\n      } else {\n        if (res.data.err == 'duplicate_email') this.setState({\n          error: /*#__PURE__*/React.createElement(Typography, {\n            display: \"block\",\n            align: \"center\",\n            color: \"error\",\n            variant: \"button\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 34\n            }\n          }, \"Email j\\xE1 cadastrado!\")\n        });else if (res.data.err == 'grecaptcha') this.setState({\n          error: /*#__PURE__*/React.createElement(Typography, {\n            display: \"block\",\n            align: \"center\",\n            color: \"error\",\n            variant: \"button\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 34\n            }\n          }, \"A\\xE7\\xE3o bloqueada pelo reCaptcha!\")\n        });\n      }\n    });\n  }\n\n  back() {\n    window.location.href = `/`;\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"main\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"banner\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"chamada\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      ref: x => this.form = x,\n      className: \"box\",\n      onSubmit: e => {\n        e.preventDefault();\n        return false;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }\n    }, this.state.error, /*#__PURE__*/React.createElement(TextField, {\n      id: \"name\",\n      className: \"input\",\n      label: \"Nome\",\n      variant: \"outlined\",\n      value: this.state.name,\n      onChange: e => this.setState({\n        name: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      id: \"email\",\n      className: \"input\",\n      label: \"E-mail\",\n      variant: \"outlined\",\n      value: this.state.email,\n      onChange: e => this.setState({\n        email: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      id: \"password\",\n      className: \"input\",\n      label: \"Senha\",\n      variant: \"outlined\",\n      type: \"password\",\n      autoComplete: \"current-password\",\n      value: this.state.password,\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      id: \"password2\",\n      className: \"input\",\n      label: \"Confirme a Senha\",\n      variant: \"outlined\",\n      type: \"password\",\n      autoComplete: \"current-password\",\n      value: this.state.password2,\n      onChange: e => this.setState({\n        password2: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(ButtonGroup, {\n      disableElevation: true,\n      variant: \"contained\",\n      color: \"text.disabled\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      id: \"singin\",\n      onClick: this.register(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Cadastrar\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.back,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, \"Voltar\"))))));\n  }\n\n}\n\nexport default withRouter(SignIn);","map":{"version":3,"sources":["/home/amandapascon/Área de Trabalho/APLICAÇÕES/Unhas Feitas/web/src/pages/Singin.js"],"names":["React","Component","Link","withRouter","TextField","Button","ButtonGroup","Typography","api","SignIn","constructor","props","state","name","email","password","password2","componentDidMount","localStorage","getItem","history","push","checkPassword","check","setState","error","register","city","put","then","res","data","token","clear","setItem","page","err","back","window","location","href","render","x","form","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport { TextField, Button, ButtonGroup, Typography } from '@material-ui/core'\nimport api from '../api'\n\nclass SignIn extends Component { \n  constructor(props) {\n    super(props)\n    \n    this.state = {\n      name: '',\n      email: '',\n      password: '',\n      password2: '',      \n    }\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('auth_token'))\n      this.props.history.push('/')\n  }\n\n  checkPassword() {\n    let check = this.state.password == this.state.password2\n    this.setState({error: !check})\n    return check\n  }\n\n  async register() {\n    let { email, name, password, state, city } = this.state\n    \n\n    api.put('/signin', {email, name, password})\n    .then(res => {\n      if (res.data.token){\n        localStorage.clear()\n        localStorage.setItem('name', res.data.name)\n        localStorage.setItem('auth_token', res.data.token)\n        this.setState({ page: 2 })\n      } else {\n        if (res.data.err == 'duplicate_email')\n          this.setState({ error: <Typography display='block' align='center' color='error' variant='button'>Email já cadastrado!</Typography>})\n        else if (res.data.err == 'grecaptcha')\n          this.setState({ error: <Typography display='block' align='center' color='error' variant='button'>Ação bloqueada pelo reCaptcha!</Typography>})\n      }\n    })\n  }\n\n  back(){\n    window.location.href = `/`\n  }\n\n  render() {\n    return (\n        <main>\n        <div className='page-home'>\n          <div id='banner'>\n            <div className='container'>\n              <div className=\"chamada\">\n                <form ref={x => this.form = x} className='box' onSubmit={ e => { e.preventDefault(); return false; }}>\n                    { this.state.error }\n                    <TextField id='name' className='input' label='Nome' variant='outlined' value={this.state.name} onChange={e => this.setState({ name: e.target.value })} required />\n                    <TextField id='email' className='input' label='E-mail' variant='outlined' value={this.state.email} onChange={e => this.setState({ email: e.target.value })} required />\n                    <TextField id='password' className='input' label='Senha' variant='outlined' type='password' autoComplete='current-password' value={this.state.password} onChange={e => this.setState({ password: e.target.value })} required />\n                    <TextField id='password2' className='input' label='Confirme a Senha' variant='outlined' type='password' autoComplete='current-password' value={this.state.password2} onChange={e => this.setState({ password2: e.target.value })} required />\n                    </form>\n              </div>\n            <ButtonGroup disableElevation variant=\"contained\" color=\"text.disabled\">\n                <Button id='singin' onClick={ this.register() }>Cadastrar</Button>\n                <Button onClick = { this.back} >Voltar</Button>\n            </ButtonGroup>\n           </div>\n          </div>\n        </div>\n      </main>\n    )\n  }\n\n}\n\n  \n  export default withRouter(SignIn) "]},"metadata":{},"sourceType":"module"}